=  acts_as_criteria

IMPORTANT: This plugin is under development, not ready for general use

= Configuration
environment.rb

config.plugins = [ :acts_as_criteria, :all ]

= Example

In model:
class Post < ActiveRecord::Base
  belongs_to :user
  acts_as_taggable_on :tags  
  acts_as_criteria :named  => :search,
                   :simple => { :columns => [:name, :body], :match => :contains },
                   :filter => { :columns => { :name => {},
                                              :comment_count => {},
                                              :is_published => {},
                                              :created_at => {},
                                              :"tags.name" => { :source => lambda { |options| Tag.all.map { |tag| [tag.name, tag.id] } } } } }
end

In view:
  <%= acts_as_criteria_form :simple, Post, :advanced => true, :advanced_mantain_simple => true %>
  <%= acts_as_criteria_form :filter, Post, :hidden => true %> 
  
  
And you have a full-featured simple search and advanced filter system

If you have installed http://electronicholas.com/calendar the filters for date columns will use this.

= For plugin developers
You can extend the filters on your own plugin:
 - put in vendor/plugins/my_plugin/config/criteria_filter.rb
def get_my_plugin_criteria_filters
  [{ :model => Account, :filters => { :"cats.id" => { :text => "Categoria", :source => lambda { |options| Cat.all.map { |cat| [cat.long_name, cat.id] } } } } } ]
end 
